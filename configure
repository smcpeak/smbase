#! /bin/sh
# Automatic configuration.

# TODO: Allow compiler name to be specified.

# Get the default gcc target.
target=$(gcc -dumpmachine)
if [ "$?" -ne 0 ]; then
  echo "Command 'gcc -dumpmachine' failed."
  exit 2
fi

# Look for targets we treat specially.
mingw=0
case "$target" in
  *mingw*)
    mingw=1
    ;;
esac

cat >config.mk <<EOF
# config.mk
# Generated by ./configure, do not edit.
#
# To customize the build, instead create 'personal.mk' and put your
# settings there.

# See the Makefile for the meaning of these variables.
TARGET_PLATFORM_IS_MINGW = $mingw
EOF

echo "Wrote config.mk."

# EOF
